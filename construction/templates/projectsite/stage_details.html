{% extends 'projectsite/base.html' %}
{% load static %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% block content %}
<h1>Project: {{ stages.0.project.name }}</h1>  <!-- Display the project name from the first stage object -->
<table class="table table-striped table-bordered">
    <thead>
        <tr>  
            <th>Project</th>
            <th>Due Date</th>
            <th>Completed</th>
            <th>Progress</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Stage Type</th>
        </tr>
    </thead>
    <tbody>
        {% for stage in stages %}
        <tr>
            <td>{{ stage.project.name }}</td>  <!-- Adjusted to access the project's name -->
            <td>{{ stage.due_date }}</td>
            <td>{{ stage.get_completed_display }}</td>
            <td>{{ stage.progress }}%</td>
            <td>{{ stage.start_date }}</td>
            <td>{{ stage.end_date }}</td>
            <td>{{ stage.get_stage_type_display }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
