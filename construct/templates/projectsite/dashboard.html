{% extends 'projectsite/base.html' %}
{% load static %}
{% load bootstrap5 %}
{% block title %}Project Dashboard{% endblock %}


{% block content %}
<h2>Project Dashboard</h2>
<h2>20-Stage Task Tracking</h2>
    <ul>
        {% for stage in stages %}
            <li>{{ stage.name }} - Progress: {{ stage.progress }}%</li>
        {% endfor %}
    </ul>

    <h2>Total Amount Spent & Balance</h2>
    <p>Total Spent: {{ total_spent }}</p>
    <p>Balance: {{ balance }}</p>

    <h2>Graphical Representation</h2>
    <div class="task-summary">
        <h3>Task Summary</h3>
        <!-- Include task tracking details here -->
    </div>
    
    <div class="expense-summary">
        <h3>Expense Summary</h3>
        <!-- Include total amount spent and balance details here -->
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <canvas id="budgetProgressChart"></canvas>
   
    <script>
        var ctx = document.getElementById('budgetProgressChart').getContext('2d');
        var chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Budget', 'Spent', 'Balance'],
                datasets: [{
                    label: 'Budget vs. Progress',
                    data: [50000, 30000, 20000],  // Example values, replaced by the actual context values
                    backgroundColor: ['blue', 'red', 'green']
                }]
            }
        })
    </script>




{% endblock %}

  